main {
    display: flex;
    gap: 1rem;
    padding: 1rem;
    max-width: 1200px;
    margin: auto;
}

nav#subforum-nav {
    flex: 0 0 280px; /* Fixed width for the sidebar */
    background: var(--nav-bg);
    padding: 1.5rem; /* Increased padding */
    border-right: 1px solid var(--post-border); /* Subtle border */
    box-shadow: 0 0 5px rgba(255,255,255,0.1); /* Softer shadow */
    display: flex;
    flex-direction: column;
    height: 100vh; /* Make sidebar full height */
    position: sticky;
    top: 0;
    overflow-y: auto; /* Allow sidebar to scroll if content overflows */
}

nav#subforum-nav h1 {
    font-size: 1.8em;
    margin-bottom: 0.2em;
    color: var(--text-color); /* Was #333, now uses variable from base.css */
}

#site-subtitle {
    font-size: 0.65em; /* Reduced font size */
    color: #bbb; /* Was #666, assuming this should be lighter on dark bg */
    margin-top: -0.5em;
    margin-bottom: 1.5em;
}

hr.sidebar-separator {
    border: none;
    border-top: 1px solid var(--input-border, #777); /* Was #eee */
    margin: 1.5rem 0;
}

section {
    /* flex: 3; /* This is no longer a direct flex item of main */
    background: var(--nav-bg); /* Was #fff */
    padding: 1rem;
    border-radius: 5px;
    box-shadow: 0 0 5px rgba(255,255,255,0.1); /* Was rgba(0,0,0,0.1) */
}

/* Styling for new page sections */
#settings-page-section,
#queue-page-section {
    flex: 3; /* Same as other content sections */
    background: var(--section-bg); /* Was var(--section-bg, #fff) */
    padding: 1.5rem; /* Consistent padding */
    border-radius: 5px;
    box-shadow: 0 0 5px rgba(255,255,255,0.1); /* Was rgba(0,0,0,0.1) */
    /* display: none; is handled inline or by JS */
}

#settings-page-section h2,
#queue-page-section h2 {
    color: var(--text-color); /* Was var(--text-color, #333) */
    margin-top: 0; /* Remove default margin for h2 if it's the first child */
    margin-bottom: 1.5rem;
}

#settings-page-content,
#queue-page-content {
    height: calc(100% - 5.5em); /* Adjust based on h2 (font-size + margin-bottom) and button (font-size + padding + margin) height, approx */
    overflow-y: auto;
}

#reply-form-container { /* Added this new base rule */
    background-color: var(--nav-bg);
    border-color: var(--input-border);
    /* Assuming some padding/margin might be needed, but will stick to original instruction for now */
}
/* New Tripane Layout Styles */
#main-container {
    display: flex;
    flex-grow: 1;
    justify-content: center; /* Default: Center the primary pane */
}

#main-container.tripane-active {
    justify-content: flex-start; /* Left-align panes when tripane is active */
}

#primary-pane {
    max-width: 900px; /* Fixed max-width for the primary content area */
    width: 100%;
    /* The margin: 0 auto effect is achieved by the parent's justify-content: center */
}

#primary-pane.primary-pane-expanded {
    max-width: none; /* Allow it to take up all available space */
    flex-grow: 1;
}

/* All sections inside the primary pane should not have their own box-shadow or border-radius,
   as the pane itself provides the container styling. */
#primary-pane > section {
    box-shadow: none;
    border-radius: 0;
    padding: 0; /* Remove padding from sections if the pane has it */
    background: transparent; /* Make section background transparent */
}

#secondary-pane {
    /* Styles for the dynamically created secondary pane */
    flex: 0 0 450px; /* Example initial width */
    background: var(--section-bg);
    padding: 1.5rem;
    border-left: 1px solid var(--post-border);
    box-shadow: -2px 0 5px rgba(0,0,0,0.1);
    overflow-y: auto;
}